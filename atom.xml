<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Wu Yongfeng - Blog]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://kymtwyf.github.io/"/>
  <updated>2015-09-12T09:39:16.000Z</updated>
  <id>http://kymtwyf.github.io/</id>
  
  <author>
    <name><![CDATA[Wu Yongfeng]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[真不好意思说我学过sql]]></title>
    <link href="http://kymtwyf.github.io/2015/09/08/mysql-calendar-table-usage/"/>
    <id>http://kymtwyf.github.io/2015/09/08/mysql-calendar-table-usage/</id>
    <published>2015-09-07T16:31:09.000Z</published>
    <updated>2015-09-12T09:39:16.000Z</updated>
    <content type="html"><![CDATA[<p>最近写查询遇到这样一个情况。我需要查到一段时间（比如2015-06-15到2015-07-01）内每一天的总价格。<br>可当我写sql查询的时候，发现如果一天没有内容，那么这一天的数据将不会被sql查出来，意味着从开始到结束的日期中可能会有中断。</p>
<figure class="highlight sql"><figcaption><span>查询.sql</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">select <span class="keyword">DATE_FORMAT</span>( <span class="keyword">cast</span>(created_at <span class="keyword">as</span> <span class="built_in">date</span>), <span class="string">'%Y-%m-%d'</span>) <span class="keyword">as</span> <span class="built_in">date</span>, <span class="keyword">count</span>(*) <span class="keyword">as</span> <span class="keyword">num</span> <span class="keyword">from</span> </span><br><span class="line"><span class="string">`order`</span> <span class="keyword">where</span> <span class="string">`id`</span> = <span class="number">3</span>  <span class="keyword">and</span> <span class="string">`created_at`</span>  <span class="keyword">between</span> <span class="string">'2015-06-15'</span> <span class="keyword">and</span> <span class="string">'2015-07-01'</span> </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">cast</span>(created_at <span class="keyword">as</span> <span class="built_in">date</span>)</span></span><br></pre></td></tr></table></figure>
<p>这样的查询结果如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">22</span>	<span class="number">2</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">23</span>	<span class="number">25</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">24</span>	<span class="number">60</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">25</span>	<span class="number">41</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">26</span>	<span class="number">65</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">27</span>	<span class="number">72</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">28</span>	<span class="number">81</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">29</span>	<span class="number">87</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">30</span>	<span class="number">59</span></span><br></pre></td></tr></table></figure></p>
<p>发现中间没有数据的日期没被正确填充。</p>
<p>在经过一番了解之后找到了一个比较靠谱的做法，如下：<br>首先根据这个 <a href="http://stackoverflow.com/questions/10132024/how-to-populate-a-table-with-a-range-of-dates/19587992#19587992" target="_blank" rel="external">PROCEDURE</a> 创建一个PROCEDURE 并插入数据</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">DROP <span class="function"><span class="keyword">PROCEDURE</span> <span class="title">IF</span> <span class="title">EXISTS</span> <span class="title">FillCalendar</span>;</span></span><br><span class="line">DROP TABLE <span class="keyword">IF</span> EXISTS calendar;</span><br><span class="line"><span class="keyword">CREATE</span> TABLE <span class="keyword">IF</span> <span class="keyword">NOT</span> EXISTS calendar(date DATE <span class="keyword">NOT</span> NULL PRIMARY KEY);</span><br><span class="line"></span><br><span class="line">DELIMITER $$</span><br><span class="line">    <span class="keyword">CREATE</span> <span class="function"><span class="keyword">PROCEDURE</span> <span class="title">FillCalendar</span><span class="params">(start_date DATE, end_date DATE)</span></span><br><span class="line">    <span class="title">BEGIN</span></span><br><span class="line">    <span class="title">DECLARE</span> <span class="title">crt_date</span> <span class="title">DATE</span>;</span></span><br><span class="line">    <span class="keyword">SET</span> crt_date = start_date;</span><br><span class="line">    <span class="keyword">WHILE</span> crt_date &lt;= end_date <span class="keyword">DO</span></span><br><span class="line">        INSERT IGNORE <span class="keyword">INTO</span> calendar VALUES(crt_date);</span><br><span class="line">        <span class="keyword">SET</span> crt_date = ADDDATE(crt_date, INTERVAL <span class="number">1</span> DAY);</span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">WHILE</span>;</span><br><span class="line">    <span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">CALL FillCalendar(<span class="string">'2000-01-01'</span>, <span class="string">'2050-12-31'</span>);<span class="comment">// 这里插入的是需要用的时间段，我在calendar表中插入了2000~2050年的数据</span></span><br></pre></td></tr></table></figure>
<p>插入完成之后就可以将<code>calendar</code>表和<code>order</code>表进行连接，在order表中缺少的字段，默认取0。这里应用了一个SQL的函数 <a href="http://stackoverflow.com/questions/13366488/coalesce-function-in-tsql" target="_blank" rel="external"><code>COALESCE</code></a></p>
<p>插入完后calendar表内容：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">date</span><br><span class="line">----------</span><br><span class="line"><span class="number">2000</span>-<span class="number">01</span>-<span class="number">01</span></span><br><span class="line"><span class="number">2000</span>-<span class="number">01</span>-<span class="number">02</span></span><br><span class="line">...</span><br><span class="line"><span class="number">2015</span>-<span class="number">12</span>-<span class="number">30</span></span><br><span class="line"><span class="number">2050</span>-<span class="number">12</span>-<span class="number">31</span></span><br></pre></td></tr></table></figure></p>
<h4 id="COALESCE函数的作用">COALESCE函数的作用</h4><p><strong>返回其参数中第一个非空表达式</strong></p>
<figure class="highlight sql"><figcaption><span>更新后的sql</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">select a.<span class="built_in">date</span> ,<span class="keyword">COALESCE</span>(b.<span class="keyword">num</span>, <span class="number">0</span>) <span class="keyword">num</span> <span class="keyword">from</span> calendar a </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span></span><br><span class="line">(</span><br><span class="line">select <span class="keyword">DATE_FORMAT</span>( <span class="keyword">cast</span>(created_at <span class="keyword">as</span> <span class="built_in">date</span>), <span class="string">'%Y-%m-%d'</span>) <span class="keyword">as</span> <span class="built_in">date</span>, <span class="keyword">count</span>(*) <span class="keyword">as</span> <span class="string">`num`</span> <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> <span class="string">`id`</span> = <span class="number">3</span> <span class="keyword">and</span> <span class="string">`created_at`</span>  <span class="keyword">between</span> <span class="string">'2015-06-15'</span> <span class="keyword">and</span> <span class="string">'2015-07-01'</span> <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">cast</span>(created_at <span class="keyword">as</span> <span class="built_in">date</span>)</span><br><span class="line">) b</span><br><span class="line"><span class="keyword">on</span> b.<span class="built_in">date</span>=a.<span class="built_in">date</span></span><br><span class="line"><span class="keyword">where</span> a.<span class="string">`date`</span> <span class="keyword">between</span> <span class="string">'2015-06-15'</span> <span class="keyword">and</span> <span class="string">'2015-07-01'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> a.<span class="string">`date`</span> <span class="keyword">asc</span></span></span><br></pre></td></tr></table></figure>
<p>这样得到的输出：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">15</span>	<span class="number">0</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">16</span>	<span class="number">0</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">17</span>	<span class="number">0</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">18</span>	<span class="number">0</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">19</span>	<span class="number">0</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">20</span>	<span class="number">0</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">21</span>	<span class="number">0</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">22</span>	<span class="number">2</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">23</span>	<span class="number">25</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">24</span>	<span class="number">60</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">25</span>	<span class="number">41</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">26</span>	<span class="number">65</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">27</span>	<span class="number">72</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">28</span>	<span class="number">81</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">29</span>	<span class="number">87</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">06</span>-<span class="number">30</span>	<span class="number">59</span></span><br><span class="line"><span class="number">2015</span>-<span class="number">07</span>-<span class="number">01</span>	<span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<hr>
<p>这个问题一开始纠结了比较久，原因是在找有没有不加calendar表能做到同样的效果。还有那个COALESCE函数的用法。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>最近写查询遇到这样一个情况。我需要查到一段时间（比如2015-06-15到2015-07-01）内每一天的总价格。<br>可当我写sql查询的时候，发现如果一天没有内容，那么这一天的数据将不会被sql查出来，意味着从开始到结束的日期中可能会有中断。</p>
<figure ]]>
    </summary>
    
      <category term="calendar table" scheme="http://kymtwyf.github.io/tags/calendar-table/"/>
    
      <category term="mysql" scheme="http://kymtwyf.github.io/tags/mysql/"/>
    
      <category term="sql" scheme="http://kymtwyf.github.io/tags/sql/"/>
    
      <category term="Diary" scheme="http://kymtwyf.github.io/categories/Diary/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[前端，我只懂个皮毛]]></title>
    <link href="http://kymtwyf.github.io/2015/09/02/my-ability-in-front-end/"/>
    <id>http://kymtwyf.github.io/2015/09/02/my-ability-in-front-end/</id>
    <published>2015-09-02T14:06:48.000Z</published>
    <updated>2015-09-02T14:54:26.000Z</updated>
    <content type="html"><![CDATA[<h1 id="从今天电面M家实习开始">从今天电面M家实习开始</h1><p>M家在北京招Intern，看到信息说是招Data Mining方面的实习生。想着挺高大上的，然后就抱着试一试，涨涨经验的心态发了一份自己的简历过去。</p>
<p>结果倒是挺快，第二天（今天，2015.09.02）应收到了电话面试。接到电话我略激动，想着一定要好好表现，争取留下好印象。激动得我把正在厨房煮汤这件事情都忘了…结果锅给烧焦了！</p>
<p>言归正传。这个电话面试是我经历最轻松，闲谈，扯淡的一次。</p>
<h1 id="面试过程">面试过程</h1><p>其实没有面试过程，整个过程就是在问我“你觉得你技术水平怎么样？”，“你觉得你在你同学中码代码能力怎样？”，”你希不希望参加到工程项目中，还是说要来做Research发一些文章？”。。。</p>
<p>前几个问题我真的不知道怎么回答。想到自己<code>可怜</code>的代码经验，基本上没有维护的github，以及一些简单的实习经历，一下子不知道怎么评价自己的代码能力。</p>
<p>我只能含糊其词地说，我能力应该还可以，但也不是同学中能力最突出的。毕竟我同学中还是有参加过ACM比赛，拿到过奖的人。至于算法啥的，他一概没问，然后问题直接就到了我做过的一些项目。我本来以为在SAP做的关于HANA和UI5的项目已经是比较不错，拿得出手的。结果人家好像一点儿也不care。反而问到我是不是会前端，于是故事开始了。</p>
<div class="figure center nocaption"><img class="fig-img" src="http://res.cloudinary.com/denrcs4mp/image/upload/v1441205040/frontend-backend_rkt1ex.jpg" width="" height="" alt=""></div>
<h1 id="我对于前端的想法">我对于前端的想法</h1><p>我做过一些前端的工作，包括给一个初创公司写一些网店功能模块，自己用 nodejs写毕业设计的时候都有涉及到。但要说我是不是对这方面感兴趣或者愿意到M家公司去实习。我的回答是否定的。原因很简单，我对前端只有敬畏之情，不像有个<a href="www.zhangwenli.com">学姐</a>确实是个牛人，前端大神。</p>
<p>而我的水平只是会用，懂些基本部局，会用bootstrap等框架写个界面，会两行javascript代码，用用jQuery什么的。要真说到前端的学问，我确实知道的太少了。最近加入到随米团队，团队采用的是前后端项目分离的架构。当我看到前端代码库的时候，第一反应是：”原来前端还可以这么写啊！”。从那一刻起，我就觉得我自己不是很会写前端了。</p>
<p>而至于以后就业，我就更加不会选择做一个前端工程师了。</p>
<hr>
<p>所以面试就这样结束了…</p>
<h2 id="然后就没有然后了。">然后就没有然后了。</h2><p>接下来，我打算做一份html版的简历。最近压力蛮大的…</p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="从今天电面M家实习开始">从今天电面M家实习开始</h1><p>M家在北京招Intern，看到信息说是招Data Mining方面的实习生。想着挺高大上的，然后就抱着试一试，涨涨经验的心态发了一份自己的简历过去。</p>
<p>结果倒是挺快，第二天（今天，2015]]>
    </summary>
    
      <category term="front end" scheme="http://kymtwyf.github.io/tags/front-end/"/>
    
      <category term="web" scheme="http://kymtwyf.github.io/tags/web/"/>
    
      <category term="Diary" scheme="http://kymtwyf.github.io/categories/Diary/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[hexo installation note]]></title>
    <link href="http://kymtwyf.github.io/2015/09/02/hexo-install-note/"/>
    <id>http://kymtwyf.github.io/2015/09/02/hexo-install-note/</id>
    <published>2015-09-02T06:38:11.000Z</published>
    <updated>2015-09-02T07:23:08.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Hexo">Hexo</h2><p>无意中参观了<a href="http://blog.guoyiliang.com/" target="_blank" rel="external">郭老板的博客</a> 发现powered by <a href="http://hexo.io" target="_blank" rel="external">Hexo</a> 终于找到一个比较不错的写博客的工具，里面的<a href="https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme" target="_blank" rel="external">主题</a>我也比较喜欢。</p>
<h2 id="Hexo_安装">Hexo 安装</h2><p>安装过程比较简单，按照<a href="https://hexo.io/docs/index.html" target="_blank" rel="external">官网步骤</a>就可以了。使用主题也参考官网步骤。<br>这个是我使用的主题<a href="https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme#quick-start" target="_blank" rel="external">tranquilpeak</a></p>
<p><a href="https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme/blob/master/docs/user.md#installation" target="_blank" rel="external">安装过程</a><br><em>下载安装</em></p>
<ol>
<li>下载最新版的<a href="https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme/releases/download/v1.3.0/tranquilpeak-hexo-theme-built-for-production-1.3.0.zip" target="_blank" rel="external">tranquilpeak,当时是1.3.0</a></li>
<li>解压后放到Hexo项目的themes中，并改名为tranquilpeak<br><em>Hexo 配置</em></li>
<li>更改<code>_config.yml</code> 文件中的<code>theme: tranquilpeak</code></li>
<li>如果想使用缩略图(thumbnail image)和背景大图(cover image)功能，设置：<code>post_asset_folder</code> 为<code>true</code></li>
<li>设置<code>relative_link</code>为<code>false</code></li>
<li>其他设置语言，左侧菜单栏等请移步<a href="https://github.com/LouisBarranqueiro/tranquilpeak-hexo-theme/blob/master/docs/user.md#tranquilpeak-configuration" target="_blank" rel="external">详细说明</a></li>
</ol>
<h2 id="为啥打算写博客">为啥打算写博客</h2><p>以前我也去玩过一些博客，比如新浪，百度空间。但时间久了发现没几个朋友来玩，所以也就放弃了。最近听说百度空间下线了…我在里面写的文章都被存到了百度云上面…这真让我难以接受。</p>
<p>github我一直关注，经常来上面寻找一些好的项目参考。同时，也会关注一些大牛小伙伴的动态。比如：</p>
<blockquote>
<p><a href="https://github.com/euyuil" target="_blank" rel="external">Euyuil</a><br><a href="https://github.com/guoylyy" target="_blank" rel="external">GYL</a><br><a href="https://github.com/sbhhbs" target="_blank" rel="external">sbhhbs</a><br>…</p>
</blockquote>
<p>写博客算是一种经验的积累，也让我不用再经常把一些笔记写在Evernote上面了，Evernote的免费账户60M/月确实不是很够用（但它适合即时记录一些笔记）</p>
<h2 id="以后的计划">以后的计划</h2><p>计划是打算有时间就来写写，多看代码，写心得。 尤其是一些踩过的坑，记录在这里让其他人可以参考，以便不受同样的苦。</p>
<p>最近心情不太好，但代码还是在写，博客的使用方法，Front-matters还在学习，继续努力吧~</p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Hexo">Hexo</h2><p>无意中参观了<a href="http://blog.guoyiliang.com/" target="_blank" rel="external">郭老板的博客</a> 发现powered by <a href="http:/]]>
    </summary>
    
      <category term="trivial" scheme="http://kymtwyf.github.io/tags/trivial/"/>
    
      <category term="Diary" scheme="http://kymtwyf.github.io/categories/Diary/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Why kymtwyf]]></title>
    <link href="http://kymtwyf.github.io/2015/09/02/first-post/"/>
    <id>http://kymtwyf.github.io/2015/09/02/first-post/</id>
    <published>2015-09-01T16:44:36.000Z</published>
    <updated>2015-09-01T16:44:36.000Z</updated>
    <content type="html"><![CDATA[<p>  解释一下为什么我用kymtwyf，理由很简单，因为我打五笔:)</p>
<p>##五笔里怎么打”吴永峰”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">吴：kgd </span><br><span class="line">永：yni </span><br><span class="line">峰: mtdh</span><br></pre></td></tr></table></figure>
<hr>
<p>  连起来打三个字的话就是第一字的k，第二字的y，第三字二笔mt。刚申请gmail的时候，很naive地认为可以申请到wuyongfeng的用户名。结果申请不到，但又由于最小6位的限制，所以就打了两遍我的名字kymtwyf就这样出来了:) </p>
<p>  以后我会在这里发一些笔记，欢迎订阅!</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>  解释一下为什么我用kymtwyf，理由很简单，因为我打五笔:)</p>
<p>##五笔里怎么打”吴永峰”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class=]]>
    </summary>
    
      <category term="trivial" scheme="http://kymtwyf.github.io/tags/trivial/"/>
    
      <category term="Diary" scheme="http://kymtwyf.github.io/categories/Diary/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[xiaoji]]></title>
    <link href="http://kymtwyf.github.io/2015/09/02/2015-09-02-xiaoji/"/>
    <id>http://kymtwyf.github.io/2015/09/02/2015-09-02-xiaoji/</id>
    <published>2015-09-01T16:07:13.000Z</published>
    <updated>2015-09-01T16:07:13.000Z</updated>
    <content type="html"></content>
    <summary type="html">
    
    </summary>
    
  </entry>
  
</feed>
